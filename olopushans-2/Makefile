NAME = ush

CFLAG = -std=c11 -Wall -Wextra -Werror -Wpedantic

INC = inc/ush.h

INCS = ush.h

SRC = src/main.c src/mx_make_command.c src/mx_initial.c src/mx_atoi.c src/mx_command_create.c src/mx_free.c src/mx_free_struct.c src/mx_readline.c src/mx_init_int.c src/mx_init_wr_spec.c src/mx_split_line.c src/mx_local_value_in.c src/mx_file_to_str_edited.c src/mx_exit.c src/mx_free_array.c src/mx_create_process.c src/mx_signals.c src/mx_spec_commands.c src/mx_print_folder.c src/mx_change_term.c src/mx_run_doch.c src/mx_swit.c src/mx_builtin_command.c  src/mx_input_clear.c src/mx_echo.c src/mx_if_outher.c src/mx_local_value_get.c src/mx_local_value_get2.c src/mx_fg.c src/mx_env.c src/mx_cd.c src/mx_pwd.c src/mx_unset.c src/mx_which.c src/mx_export.c src/mx_env_i.c src/mx_env_run.c src/mx_clearenv.c src/mx_env_print_error.c src/mx_cd_tilda.c src/mx_free_array3.c src/mx_if_escape.c src/mx_array_dup.c src/mx_local_value_in2.c src/mx_read_get_line.c src/mx_read_pr_home.c src/mx_read_check_quotes.c src/mx_split_files.c src/mx_split_symbols.c src/mx_cd_get_path.c src/mx_restart_proc.c src/mx_sig_exit.c src/mx_split_main_dop.c src/mx_init_lvg.c src/mx_sig_pause.c src/mx_quote_4.c src/mx_check_path.c

SRCS = main.c mx_make_command.c mx_initial.c mx_atoi.c mx_command_create.c mx_free.c mx_free_struct.c mx_readline.c mx_init_int.c mx_init_wr_spec.c mx_split_line.c mx_local_value_in.c mx_file_to_str_edited.c mx_exit.c mx_free_array.c mx_create_process.c mx_signals.c mx_spec_commands.c mx_print_folder.c mx_change_term.c mx_run_doch.c mx_swit.c mx_builtin_command.c  mx_input_clear.c mx_echo.c mx_if_outher.c mx_local_value_get.c mx_local_value_get2.c mx_fg.c mx_env.c mx_cd.c mx_pwd.c mx_unset.c mx_which.c mx_export.c mx_env_i.c mx_env_run.c mx_clearenv.c mx_env_print_error.c mx_cd_tilda.c mx_free_array3.c mx_if_escape.c mx_array_dup.c mx_local_value_in2.c mx_read_get_line.c mx_read_pr_home.c mx_read_check_quotes.c mx_split_files.c mx_split_symbols.c mx_cd_get_path.c mx_restart_proc.c mx_sig_exit.c mx_split_main_dop.c mx_init_lvg.c mx_sig_pause.c mx_quote_4.c mx_check_path.c

LIB = libmx/libmx.a

LIBS = libmx.a

POBJS = main.o mx_make_command.o mx_initial.o mx_atoi.o mx_command_create.o mx_free.o mx_free_struct.o mx_readline.o mx_init_int.o mx_init_wr_spec.o mx_split_line.o mx_local_value_in.o mx_file_to_str_edited.o mx_exit.o mx_free_array.o mx_create_process.o mx_signals.o mx_spec_commands.o mx_print_folder.o mx_change_term.o mx_run_doch.o mx_swit.o mx_builtin_command.o  mx_input_clear.o mx_echo.o mx_if_outher.o mx_local_value_get.o mx_local_value_get2.o mx_fg.o mx_env.o mx_cd.o mx_pwd.o mx_unset.o mx_which.o mx_export.o mx_env_i.o mx_env_run.o mx_clearenv.o mx_env_print_error.o mx_cd_tilda.o mx_free_array3.o mx_if_escape.o mx_array_dup.o mx_local_value_in2.o mx_read_get_line.o mx_read_pr_home.o mx_read_check_quotes.o mx_split_files.o mx_split_symbols.o mx_cd_get_path.o mx_restart_proc.o mx_sig_exit.o mx_split_main_dop.o mx_init_lvg.o mx_sig_pause.o mx_quote_4.o mx_check_path.o

LOBJS = mx_printchar.o mx_print_unicode.o mx_printstr.o mx_print_strarr.o mx_printint.o mx_pow.o mx_sqrt.o mx_nbr_to_hex.o mx_hex_to_nbr.o mx_itoa.o mx_foreach.o mx_binary_search.o mx_bubble_sort.o mx_quicksort.o mx_strlen.o mx_swap_char.o mx_str_reverse.o mx_strdel.oÂ  mx_del_strarr.o mx_get_char_index.o mx_strdup.o mx_strndup.o mx_strcpy.o mx_strncpy.o mx_strcmp.o mx_strcat.o mx_strstr.o mx_get_substr_index.o mx_count_substr.o mx_count_words.o mx_strnew.o mx_strtrim.o mx_del_extra_spaces.o mx_strsplit.o mx_strjoin.o mx_file_to_str.o mx_read_line.o mx_replace_substr.o mx_memset.o mx_memcpy.o mx_memccpy.o mx_memcmp.o mx_memchr.o mx_memrchr.o mx_memmem.o mx_memmove.o mx_realloc.o mx_create_node.o mx_push_front.o mx_push_back.o mx_pop_front.o mx_pop_back.o mx_list_size.o mx_sort_list.o mx_isspace.o mx_def_end.o mx_def_start.o mx_isdigit.o mx_isalpha.o

POBJ = obj/main.o obj/mx_make_command.o obj/mx_initial.o obj/mx_atoi.o obj/mx_command_create.o obj/mx_free.o obj/mx_free_struct.o obj/mx_readline.o obj/mx_init_int.o obj/mx_init_wr_spec.o obj/mx_split_line.o obj/mx_local_value_in.o obj/mx_file_to_str_edited.o obj/mx_exit.o obj/mx_free_array.o obj/mx_create_process.o obj/mx_signals.o obj/mx_spec_commands.o obj/mx_print_folder.o obj/mx_change_term.o obj/mx_run_doch.o obj/mx_swit.o obj/mx_builtin_command.o  obj/mx_input_clear.o obj/mx_echo.o obj/mx_if_outher.o obj/mx_local_value_get.o obj/mx_local_value_get2.o obj/mx_fg.o obj/mx_env.o obj/mx_cd.o obj/mx_pwd.o obj/mx_unset.o obj/mx_which.o obj/mx_export.o obj/mx_env_i.o obj/mx_env_run.o obj/mx_clearenv.o obj/mx_env_print_error.o obj/mx_cd_tilda.o obj/mx_free_array3.o obj/mx_if_escape.o obj/mx_array_dup.o obj/mx_local_value_in2.o obj/mx_read_get_line.o obj/mx_read_pr_home.o obj/mx_read_check_quotes.o obj/mx_split_files.o obj/mx_split_symbols.o obj/mx_cd_get_path.o obj/mx_restart_proc.o obj/mx_sig_exit.o obj/mx_split_main_dop.o obj/mx_init_lvg.o obj/mx_sig_pause.o obj/mx_quote_4.o obj/mx_check_path.o

OBJ_DIR = obj

all: install clean

install:
	@make -C libmx
	@cp $(SRC) .
	@cp $(INC) .
	@cp $(LIB) .
	@mkdir -p obj
	@clang $(CFLAG) -c $(SRCS)
	@cp $(POBJS) obj
	@clang $(CFLANG) -o $(NAME) $(POBJ) -L./libmx -lmx
	
uninstall: clean
	@rm -rf $(NAME)
	@make -sC libmx uninstall

clean:
	@rm -rf $(SRCS)
	@rm -rf $(INCS)
	@rm -rf $(LIBS)
	@rm -rf ./obj
	@rm -rf $(POBJS)
	@rm -rf $(LOBJS)
	@make -sC libmx clean
	@rm -rf libmx.a __.SYMDEF\ SORTED inc/libmx.h.gch

reinstall: uninstall install
